---
layout: base.html
og_type: article
---
{%- comment -%}
  This section sets up variables with proper fallbacks,
  avoiding the invalid 'or' keyword.
{%- endcomment -%}
{%- assign default_image_path = '/resources/Nicholas%20Thompson-250.webp' -%}
{%- if og_image -%}
  {%- if og_image contains 'http://' or og_image contains 'https://' -%}
    {%- assign image_url = og_image -%}
  {%- else -%}
    {%- assign image_url = "https://thompson2026.com" | append: og_image -%}
  {%- endif -%}
{%- else -%}
  {%- assign image_url = "https://thompson2026.com" | append: default_image_path -%}
{%- endif -%}

{%- if author -%}
  {%- assign author_name = author -%}
{%- else -%}
  {%- assign author_name = "Nicholas A. Thompson" -%}
{%- endif -%}

{%- if description -%}
  {%- assign page_description = description -%}
{%- else -%}
  {%- assign page_description = excerpt -%}
{%- endif -%}

{%- comment -%}
  Build structured data as a JSON string manually since Liquid doesn't support inline objects
{%- endcomment -%}
{%- capture structured_data -%}
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ title | escape }}",
    "description": "{{ page_description | escape }}",
    "image": "{{ image_url }}",
    "author": {
        "@type": "Person",
        "name": "{{ author_name | escape }}"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Nicholas A. Thompson 2026",
        "logo": {
            "@type": "ImageObject",
            "url": "https://thompson2026.com/resources/favicon-192.png"
        }
    },
    "datePublished": "{{ page.date | htmlDateString }}",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://thompson2026.com{{ page.url }}"
    }
}
{%- endcapture -%}

<script type="application/ld+json">{{ structured_data }}</script>

<article class="blog-post">
    <div class="container">
        <div class="back-to-blogs-top-container">
            <a href="/blog" class="back-to-blogs back-to-blogs-top">← Back to Blogs</a>
        </div>
        {%- if og_image %}
          <img src="{{ og_image }}" alt="{% if og_image_alt %}{{ og_image_alt }}{% else %}Header image for {{ title }}{% endif %}" class="blog-header-image" loading="lazy">
        {%- endif %}
        <header class="post-header">
            <h1>{{ title }}</h1>
            <div class="post-meta">
                <time datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time>
                {%- if author %}<span class="author">by {{ author }}</span>{% endif %}
            </div>
            {%- if tags %}
            <div class="tags">
                {%- for tag in tags %}
                    <span class="tag">{{ tag }}</span>
                {%- endfor %}
            </div>
            {%- endif %}
        </header>
        
        <div class="post-content">
            {{ content | safe }}
        </div>

        {%- if cta_text or cta_preset %}
        <div class="post-cta">
            <div class="cta-content">
                {%- if cta_preset == "petition" %}
                    <p class="cta-text">Want to see these issues discussed on the debate stage? Help me get on the ballot. Every signature brings these conversations closer to the mainstream.</p>
                    <a href="/sign" class="cta-button">Sign the Ballot Petition</a>
                {%- elsif cta_preset == "declaration" %}
                    <p class="cta-text">If this resonates with you, don't just agree. Take action. Join the growing movement of Californians pushing back against government overreach.</p>
                    <a href="/declaration_of_war" class="cta-button">Sign the Declaration</a>
                {%- else %}
                    <p class="cta-text">{{ cta_text }}</p>
                    <a href="{{ cta_button_link }}" class="cta-button">{{ cta_button_text }}</a>
                {%- endif %}
            </div>
        </div>
        {%- endif %}

        {%- if medium_url %}
        <div class="medium-crosspost">
            <p><i class="fab fa-medium"></i> Also available on <a href="{{ medium_url }}" target="_blank" rel="noopener">Medium</a></p>
        </div>
        {%- endif %}

        <footer class="post-footer">
            <div class="post-navigation">
                <a href="/blog" class="back-to-blogs">← Back to Blog</a>
            </div>
            
            <div class="post-share">
                <p>Share this post:</p>
                <div class="share-buttons">
                    {%- assign share_url = "https://thompson2026.com" | append: page.url -%}
                    {%- assign share_title = title -%}
                    {%- assign share_text = share_title | append: "\n" | append: share_url -%}

                    <a href="https://x.com/intent/post?text={{ share_text | urlencode }}" target="_blank" class="share-twitter">
                        <i class="fab fa-x-twitter"></i> X (Twitter)
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{ share_url | urlencode }}" target="_blank" class="share-facebook">
                        <i class="fab fa-facebook"></i> Facebook
                    </a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ share_url | urlencode }}" target="_blank" class="share-linkedin">
                        <i class="fab fa-linkedin"></i> LinkedIn
                    </a>
                    <a href="https://wa.me/?text={{ share_text | urlencode }}" target="_blank" class="share-whatsapp">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </a>
                    <button onclick="copyToClipboard('{{ share_url }}')" class="share-copy">
                        <i class="fas fa-link"></i> Copy Link
                    </button>
                </div>
            </div>
        </footer>

        <section class="subscribe-section">
            <div class="subscribe-box">
                <div class="subscribe-content">
                    <i class="fas fa-envelope subscribe-icon"></i>
                    <h3>Get New Posts in Your Inbox</h3>
                    <p>Subscribe to receive notifications when I publish new articles. No spam, unsubscribe anytime.</p>
                </div>
                <form id="subscribe-form" class="subscribe-form js-only">
                    <div class="subscribe-fields">
                        <input type="text" name="name" placeholder="Your name (optional)" autocomplete="name">
                        <input type="email" name="email" placeholder="Your email address" required autocomplete="email">
                        <button type="submit">Subscribe</button>
                    </div>
                    <div id="subscribe-form-message" class="form-message" style="display: none;"></div>
                </form>
                <noscript>
                    <div class="no-js-subscribe-notice">
                        <p>Subscribe via RSS instead:</p>
                        <a href="/feed.xml" class="rss-subscribe-link"><i class="fas fa-rss"></i> RSS Feed</a>
                    </div>
                </noscript>
            </div>
        </section>

        <section class="comments-section" id="comments">
            <div class="comment-form-container js-only">
                <h3>Leave a Comment</h3>
                <div class="comment-form-info">
                    <p class="comment-form-note">Your email address will not be published. Comments are moderated before appearing.</p>
                    <p class="comment-format-hint">Supports: <code>**bold**</code>, <code>*italic*</code>, <code>`code`</code>, <code>[links](url)</code></p>
                </div>
                
                <form id="comment-form" class="comment-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="comment-name">Name <span class="required">*</span></label>
                            <input type="text" id="comment-name" name="name" required placeholder="Your name" autocomplete="name" maxlength="100">
                        </div>
                        <div class="form-group">
                            <label for="comment-email">Email <span class="required">*</span></label>
                            <input type="email" id="comment-email" name="email" required placeholder="your@email.com" autocomplete="email" maxlength="254">
                            <span class="field-note">Private - only used for reply notifications and moderation</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="comment-text">Comment <span class="required">*</span></label>
                        <textarea id="comment-text" name="comment" required placeholder="Share your thoughts..." rows="5" maxlength="2000" minlength="10"></textarea>
                        <span class="char-count" id="comment-char-count">0/2000</span>
                    </div>
                    <div class="form-group form-group-checkbox">
                        <label class="checkbox-label">
                            <input type="checkbox" name="notifyReplies" checked>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">Email me when someone replies to my comment</span>
                        </label>
                    </div>
                    <div id="comment-form-message" class="form-message" style="display: none;"></div>
                    <div class="comment-form-actions">
                        <button type="submit" class="comment-submit-btn">Post Comment</button>
                        <p class="privacy-note">By commenting, you agree to our <a href="/privacy">Privacy Policy</a>.</p>
                    </div>
                </form>
            </div>

            <noscript>
                <div class="no-js-comments-notice">
                    <p>Comments require JavaScript to load and submit. To share your thoughts on this post:</p>
                    <a href="mailto:nicholas@thompson2026.com?subject=Comment%20on%3A%20{{ title | urlencode }}&body=Post%3A%20{{ title | urlencode }}%0A%0AMy%20comment%3A%0A" class="email-comment-link">
                        <i class="fas fa-envelope"></i> Email Your Comment
                    </a>
                    <p class="no-js-note">I'll add approved comments manually.</p>
                </div>
            </noscript>

            <div class="comments-header js-only">
                <h2><i class="fas fa-comments"></i> Comments <span class="comments-count">(<span id="comments-count">0</span>)</span></h2>
                <div class="comments-sort">
                    <span class="sort-label">Sort by:</span>
                    <button class="sort-btn active" data-sort="newest">Newest</button>
                    <button class="sort-btn" data-sort="oldest">Oldest</button>
                    <button class="sort-btn" data-sort="top">Top Rated</button>
                </div>
            </div>
            
            <div id="comments-list" class="comments-list js-only">
                <p class="comments-loading"><span class="spinner"></span> Loading comments...</p>
            </div>
        </section>
    </div>
</article>

<nav class="post-quick-nav js-only" aria-label="Quick navigation">
    <button class="quick-nav-btn" onclick="document.getElementById('comments').scrollIntoView({behavior:'smooth'})" title="Jump to Comments">
        <i class="fas fa-comments"></i>
    </button>
    <button class="quick-nav-btn" onclick="document.querySelector('.post-share').scrollIntoView({behavior:'smooth'})" title="Share this post">
        <i class="fas fa-link"></i>
    </button>
    <button class="quick-nav-btn" onclick="document.querySelector('.subscribe-section').scrollIntoView({behavior:'smooth'})" title="Subscribe">
        <i class="fas fa-envelope"></i>
    </button>
</nav>

<script src="/js/blog-comments.js" defer></script>
